!function(t){function e(e){for(var n,o,a=e[0],h=e[1],u=e[2],l=0,f=[];l<a.length;l++)o=a[l],s[o]&&f.push(s[o][0]),s[o]=0;for(n in h)Object.prototype.hasOwnProperty.call(h,n)&&(t[n]=h[n]);for(c&&c(e);f.length;)f.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,a=1;a<i.length;a++){var h=i[a];0!==s[h]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={4:0};var r=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/assets";var a=window.webpackJsonp=window.webpackJsonp||[],h=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var c=h;r.push([220,0]),i()}({132:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(38),o=(n=r)&&n.__esModule?n:{default:n};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),s(e,[{key:"train",value:function(t){var e=this.select(t),i=this.crossOver(e,t);this.mutate(i)}},{key:"fit",value:function(t){this.train(t)}},{key:"select",value:function(t){return[t[0],t[1]]}},{key:"crossOver",value:function(t,e){for(var i=t[0].slice(),n=t[1].slice(),s=Math.floor(Math.random()*e.length),r=0;r<s;r+=1){var o=i[r];i[r]=n[r],n[r]=o}for(var a=[i,n],h=0;h<2;h+=1)e[e.length-h-1]=a[h];return a}},{key:"mutate",value:function(t){t.forEach(function(e){e[Math.floor(Math.random()*t.length)]=Math.random()})}}]),e}();e.default=a},15:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFPS=function(){return n},e.setFPS=function(t){n=t};var n=60},2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getImageSprite=function(){return n},e.loadImageSprite=function(){return new Promise(function(t){var e=document.createElement("img");e.src=i(60),e.addEventListener("load",function(){n=e,t()})})};var n=null},218:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(51)),o=i(91),a=(n=o)&&n.__esModule?n:{default:n};var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),s(e,[{key:"getChromosome",value:function(){return r.concat([this.weights[0].flatten(),this.biases[0].flatten(),this.weights[1].flatten(),this.biases[1].flatten()]).dataSync()}},{key:"setChromosome",value:function(t){var e=t.slice(0,18),i=t.slice(18,19);this.weights[0].assign(r.tensor(e,[3,6])),this.biases[0].assign(r.tensor(i[0])),e=t.slice(19,31),i=t.slice(31,32),this.weights[1].assign(r.tensor(e,[6,2])),this.biases[1].assign(r.tensor(i[0]))}}]),e}();e.default=h},219:function(t,e,i){"use strict";i(101);var n=i(9),s=i(61),r=o(i(218));function o(t){return t&&t.__esModule?t:{default:t}}var a=10,h=new(o(i(132)).default),u=[],c=null;var l=!0;function f(t){var e=t.tRexes;if(l)l=!1,e.forEach(function(t){t.model=new r.default,t.model.init(),t.training={inputs:[],labels:[]}});else{console.info("Training"),e.forEach(function(t){t.model.fit(t.training.inputs,t.training.labels)});var i=u.map(function(t){return t.model.getChromosome()});u.splice(0),h.fit(i),e.forEach(function(t,e){t.model.setChromosome(i[e])})}}function d(t){var e=t.tRex,i=t.state;return new Promise(function(t){if(e.jumping)t(0);else{var n=0;e.model.predictSingle(m(i)).data().then(function(s){s[1]>s[0]?(n=1,e.lastJumpingState=i):e.lastRunningState=i,t(n)})}})}function p(t){var e=t.tRex,i=null,n=null;e.jumping?(i=m(e.lastJumpingState),n=[1,0]):(i=m(e.lastRunningState),n=[0,1]),e.training.inputs.push(i),e.training.labels.push(n),u.includes(e)||u.unshift(e)}function m(t){return t?[t.obstacleX/n.CANVAS_WIDTH,t.obstacleWidth/n.CANVAS_WIDTH,t.speed/100]:[0,0,0]}document.addEventListener("DOMContentLoaded",function(){c=new s.Runner(".game",{T_REX_COUNT:a,onReset:f,onCrash:p,onRunning:d}),window.runner=c,c.init()})},22:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(9),r=i(15),o=i(2),a=i(8),h=f(i(59)),u=f(i(58)),c=f(i(27)),l=f(i(54));function f(t){return t&&t.__esModule?t:{default:t}}var d=function(){function t(e,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.instance_)return t.instance_;t.instance_=this,this.isFirstTime=!1,this.outerContainerEl=document.querySelector(e),this.generationEl=document.querySelector(".generation"),this.containerEl=null,this.config=Object.assign({},t.config,i),this.dimensions={WIDTH:s.CANVAS_WIDTH,HEIGHT:s.CANVAS_HEIGHT},this.canvas=null,this.canvasCtx=null,this.tRex=null,this.distanceMeter=null,this.distanceRan=0,this.highestScore=0,this.time=0,this.runningTime=0,this.msPerFrame=1e3/(0,r.getFPS)(),this.currentSpeed=this.config.SPEED,this.obstacles=[],this.activated=!1,this.playing=!1,this.crashed=!1,this.resizeTimerId_=null,this.playCount=0,this.images={},this.imagesLoaded=0}return n(t,[{key:"init",value:function(){var e,i=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.loadImageSprite)();case 2:this.spriteDef=t.spriteDefinition,this.adjustDimensions(),this.setSpeed(),this.containerEl=document.createElement("div"),this.containerEl.className=t.classes.CONTAINER,this.containerEl.style.width=this.dimensions.WIDTH+"px",this.canvas=p(this.containerEl,this.dimensions.WIDTH,this.dimensions.HEIGHT,t.classes.PLAYER),this.canvasCtx=this.canvas.getContext("2d"),this.canvasCtx.fillStyle="#f7f7f7",this.canvasCtx.fill(),t.updateCanvasScaling(this.canvas),this.horizon=new u.default(this.canvas,this.spriteDef,this.dimensions,this.config.GAP_COEFFICIENT),this.distanceMeter=new h.default(this.canvas,this.spriteDef.TEXT_SPRITE,this.dimensions.WIDTH),this.tRexGroup=new l.default(this.config.T_REX_COUNT,this.canvas,this.spriteDef.TREX),this.tRexGroup.onRunning=this.config.onRunning,this.tRexGroup.onCrash=this.config.onCrash,this.tRex=this.tRexGroup.tRexes[0],this.outerContainerEl.appendChild(this.containerEl),this.startListening(),this.update(),window.addEventListener(t.events.RESIZE,this.debounceResize.bind(this)),this.restart();case 24:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,i){return function n(s,r){try{var o=t[s](r),a=o.value}catch(t){return void i(t)}if(!o.done)return Promise.resolve(a).then(function(t){n("next",t)},function(t){n("throw",t)});e(a)}("next")})});return function(){return i.apply(this,arguments)}}()},{key:"debounceResize",value:function(){this.resizeTimerId_||(this.resizeTimerId_=setInterval(this.adjustDimensions.bind(this),250))}},{key:"adjustDimensions",value:function(){clearInterval(this.resizeTimerId_),this.resizeTimerId_=null;var e=window.getComputedStyle(this.outerContainerEl),i=Number(e.paddingLeft.substr(0,e.paddingLeft.length-2));this.dimensions.WIDTH=this.outerContainerEl.offsetWidth-2*i,this.canvas&&(this.canvas.width=this.dimensions.WIDTH,this.canvas.height=this.dimensions.HEIGHT,t.updateCanvasScaling(this.canvas),this.distanceMeter.calcXPos(this.dimensions.WIDTH),this.clearCanvas(),this.horizon.update(0,0,!0),this.tRexGroup.update(0),this.playing||this.crashed?(this.containerEl.style.width=this.dimensions.WIDTH+"px",this.containerEl.style.height=this.dimensions.HEIGHT+"px",this.distanceMeter.update(0,Math.ceil(this.distanceRan)),this.stop()):this.tRexGroup.draw(0,0))}},{key:"setSpeed",value:function(t){this.currentSpeed=t||this.currentSpeed}},{key:"startGame",value:function(){this.runningTime=0,this.containerEl.style.webkitAnimation="",this.playCount+=1}},{key:"clearCanvas",value:function(){this.canvasCtx.clearRect(0,0,this.dimensions.WIDTH,this.dimensions.HEIGHT)}},{key:"update",value:function(){this.updatePending=!1;var e=(0,a.getTimeStamp)(),i=e-(this.time||e);if(this.time=e,this.playing){this.clearCanvas(),this.tRexGroup.updateJump(i),this.runningTime+=i;var n=this.runningTime>this.config.CLEAR_TIME;this.isFirstTime&&(this.activated||this.crashed||(this.playing=!0,this.activated=!0,this.startGame())),i=this.activated?i:0,this.horizon.update(i,this.currentSpeed,n);var s=!1;n&&(s=this.tRexGroup.checkForCollision(this.horizon.obstacles[0])),s?this.gameOver():(this.distanceRan+=this.currentSpeed*i/this.msPerFrame,this.currentSpeed<this.config.MAX_SPEED&&(this.currentSpeed+=this.config.ACCELERATION)),this.distanceMeter.update(i,Math.ceil(this.distanceRan))}!this.playing&&this.activated||(this.tRexGroup.update(i),this.scheduleNextUpdate()),this.tRexGroup.lives()>0?this.generationEl.innerText="GENERATION #"+t.generation+" | LIVE x "+this.tRexGroup.lives():this.generationEl.innerHTML='<div style="color: red;">GENERATION #'+t.generation+"  |  GAME OVER</div>"}},{key:"startListening",value:function(){var e=this;document.addEventListener(t.events.KEYDOWN,function(t){e.onKeyDown(t)}),document.addEventListener(t.events.KEYUP,function(t){e.onKeyUp(t)})}},{key:"onKeyDown",value:function(e){!this.crashed&&this.playing?t.keycodes.JUMP[e.keyCode]?(e.preventDefault(),this.tRex.startJump(this.currentSpeed)):t.keycodes.DUCK[e.keyCode]&&(e.preventDefault(),this.tRex.jumping?this.tRex.setSpeedDrop():this.tRex.jumping||this.tRex.ducking||this.tRex.setDuck(!0)):this.crashed&&this.restart()}},{key:"onKeyUp",value:function(e){var i=String(e.keyCode),n=t.keycodes.JUMP[i];this.isRunning()&&n?this.tRex.endJump():t.keycodes.DUCK[i]?(this.tRex.speedDrop=!1,this.tRex.setDuck(!1)):this.crashed&&t.keycodes.JUMP[i]&&this.restart()}},{key:"scheduleNextUpdate",value:function(){this.updatePending||(this.updatePending=!0,this.raqId=requestAnimationFrame(this.update.bind(this)))}},{key:"isRunning",value:function(){return!!this.raqId}},{key:"gameOver",value:function(){var t=this;this.stop(),this.crashed=!0,this.distanceMeter.acheivement=!1,this.tRexGroup.update(100,c.default.status.CRASHED),this.distanceRan>this.highestScore&&(this.highestScore=Math.ceil(this.distanceRan),this.distanceMeter.setHighScore(this.highestScore)),this.time=(0,a.getTimeStamp)(),setTimeout(function(){t.restart()},500)}},{key:"stop",value:function(){this.playing=!1,cancelAnimationFrame(this.raqId),this.raqId=0}},{key:"play",value:function(){this.crashed||(this.playing=!0,this.tRexGroup.update(0,c.default.status.RUNNING),this.time=(0,a.getTimeStamp)(),this.update())}},{key:"restart",value:function(){this.raqId?(this.isFirstTime=!0,this.tRexGroup.reset(),this.config.onReset({tRexes:this.tRexGroup.tRexes}),this.playing||(this.playing=!0,this.update())):(this.playCount+=1,this.runningTime=0,this.playing=!0,this.crashed=!1,this.distanceRan=0,this.setSpeed(this.config.SPEED),this.time=(0,a.getTimeStamp)(),this.clearCanvas(),this.distanceMeter.reset(this.highestScore),this.horizon.reset(),this.tRexGroup.reset(),this.config.onReset({tRexes:this.tRexGroup.tRexes}),this.update()),t.generation+=1}}],[{key:"updateCanvasScaling",value:function(t,e,i){var n=t.getContext("2d"),s=Math.floor(window.devicePixelRatio)||1,r=Math.floor(n.webkitBackingStorePixelRatio)||1,o=s/r;if(s!==r){var a=e||t.width,h=i||t.height;return t.width=a*o,t.height=h*o,t.style.width=a+"px",t.style.height=h+"px",n.scale(o,o),!0}return 1===s&&(t.style.width=t.width+"px",t.style.height=t.height+"px"),!1}}]),t}();function p(t,e,i,n){var s=document.createElement("canvas");return s.className=n?d.classes.CANVAS+" "+n:d.classes.CANVAS,s.width=e,s.height=i,t.appendChild(s),s}function m(){}d.generation=0,d.config={ACCELERATION:.001,BG_CLOUD_SPEED:.2,CLEAR_TIME:0,CLOUD_FREQUENCY:.5,GAP_COEFFICIENT:.6,GRAVITY:.6,INITIAL_JUMP_VELOCITY:12,MAX_CLOUDS:6,MAX_OBSTACLE_LENGTH:3,MAX_SPEED:13,MIN_JUMP_HEIGHT:35,SPEED:6,SPEED_DROP_COEFFICIENT:3,T_REX_COUNT:1,onReset:m,onRunning:m,onCrash:m},d.classes={CANVAS:"game-canvas",CONTAINER:"game-container"},d.spriteDefinition={CACTUS_LARGE:{x:332,y:2},CACTUS_SMALL:{x:228,y:2},CLOUD:{x:86,y:2},HORIZON:{x:2,y:54},PTERODACTYL:{x:134,y:2},RESTART:{x:2,y:2},TEXT_SPRITE:{x:655,y:2},TREX:{x:848,y:2}},d.keycodes={JUMP:{38:1,32:1},DUCK:{40:1}},d.events={ANIM_END:"webkitAnimationEnd",CLICK:"click",KEYDOWN:"keydown",KEYUP:"keyup",RESIZE:"resize",VISIBILITY:"visibilitychange",BLUR:"blur",FOCUS:"focus",LOAD:"load"},e.default=d},220:function(t,e,i){t.exports=i(219)},27:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.checkForCollision=function(t,e){s.CANVAS_WIDTH,t.xPos;var i=new h.default(e.xPos+1,e.yPos+1,e.config.WIDTH-2,e.config.HEIGHT-2),n=new h.default(t.xPos+1,t.yPos+1,t.typeConfig.width*t.size-2,t.typeConfig.height-2);if(d(i,n))for(var r=t.collisionBoxes,o=e.ducking?l.collisionBoxes.DUCKING:l.collisionBoxes.RUNNING,a=0;a<o.length;a+=1)for(var u=0;u<r.length;u+=1){var c=f(o[a],i),p=f(r[u],n),m=d(c,p);if(m)return[c,p]}return!1};var s=i(9),r=i(15),o=i(2),a=i(8),h=c(i(28)),u=c(i(22));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.canvasCtx=e.getContext("2d"),this.spritePos=i,this.xPos=0,this.yPos=0,this.groundYPos=0,this.currentFrame=0,this.currentAnimFrames=[],this.blinkDelay=0,this.blinkCount=0,this.animStartTime=0,this.timer=0,this.msPerFrame=1e3/(0,r.getFPS)(),this.config=t.config,this.status=t.status.WAITING,this.jumping=!1,this.ducking=!1,this.jumpVelocity=0,this.reachedMinHeight=!1,this.speedDrop=!1,this.jumpCount=0,this.jumpspotX=0,this.init()}return n(t,[{key:"init",value:function(){this.groundYPos=s.CANVAS_HEIGHT-this.config.HEIGHT-s.RUNNER_BOTTOM_PAD,this.yPos=this.groundYPos,this.minJumpHeight=this.groundYPos-this.config.MIN_JUMP_HEIGHT,this.draw(0,0),this.update(0,t.status.WAITING)}},{key:"setJumpVelocity",value:function(t){this.config.INIITAL_JUMP_VELOCITY=-t,this.config.DROP_VELOCITY=-t/2}},{key:"update",value:function(e,i){this.timer+=e,i&&(this.status=i,this.currentFrame=0,this.msPerFrame=t.animFrames[i].msPerFrame,this.currentAnimFrames=t.animFrames[i].frames,i===t.status.WAITING&&(this.animStartTime=(0,a.getTimeStamp)(),this.setBlinkDelay())),this.status===t.status.WAITING?this.blink((0,a.getTimeStamp)()):this.draw(this.currentAnimFrames[this.currentFrame],0),this.timer>=this.msPerFrame&&(this.currentFrame=this.currentFrame===this.currentAnimFrames.length-1?0:this.currentFrame+1,this.timer=0),this.speedDrop&&this.yPos===this.groundYPos&&(this.speedDrop=!1,this.setDuck(!0))}},{key:"draw",value:function(e,i){var n=e,s=i,r=this.ducking&&this.status!==t.status.CRASHED?this.config.WIDTH_DUCK:this.config.WIDTH,a=this.config.HEIGHT;n+=this.spritePos.x,s+=this.spritePos.y,this.ducking&&this.status!==t.status.CRASHED?this.canvasCtx.drawImage((0,o.getImageSprite)(),n,s,r,a,this.xPos,this.yPos,this.config.WIDTH_DUCK,this.config.HEIGHT):(this.ducking&&this.status===t.status.CRASHED&&(this.xPos+=1),this.canvasCtx.drawImage((0,o.getImageSprite)(),n,s,r,a,this.xPos,this.yPos,this.config.WIDTH,this.config.HEIGHT))}},{key:"setBlinkDelay",value:function(){this.blinkDelay=Math.ceil(Math.random()*t.BLINK_TIMING)}},{key:"blink",value:function(t){t-this.animStartTime>=this.blinkDelay&&(this.draw(this.currentAnimFrames[this.currentFrame],0),1===this.currentFrame&&(this.setBlinkDelay(),this.animStartTime=t,this.blinkCount+=1))}},{key:"startJump",value:function(e){void 0===e&&(e=u.default.instance_.currentSpeed),this.jumping||(this.update(0,t.status.JUMPING),this.jumpVelocity=this.config.INIITAL_JUMP_VELOCITY-e/10,this.jumping=!0,this.reachedMinHeight=!1,this.speedDrop=!1)}},{key:"endJump",value:function(){this.reachedMinHeight&&this.jumpVelocity<this.config.DROP_VELOCITY&&(this.jumpVelocity=this.config.DROP_VELOCITY)}},{key:"updateJump",value:function(e,i){var n=e/t.animFrames[this.status].msPerFrame;this.speedDrop?this.yPos+=Math.round(this.jumpVelocity*this.config.SPEED_DROP_COEFFICIENT*n):this.yPos+=Math.round(this.jumpVelocity*n),this.jumpVelocity+=this.config.GRAVITY*n,(this.yPos<this.minJumpHeight||this.speedDrop)&&(this.reachedMinHeight=!0),(this.yPos<this.config.MAX_JUMP_HEIGHT||this.speedDrop)&&this.endJump(),this.yPos>this.groundYPos&&(this.reset(),this.jumpCount+=1),this.update(e)}},{key:"setSpeedDrop",value:function(){this.speedDrop=!0,this.jumpVelocity=1}},{key:"setDuck",value:function(e){e&&this.status!==t.status.DUCKING?(this.update(0,t.status.DUCKING),this.ducking=!0):this.status===t.status.DUCKING&&(this.update(0,t.status.RUNNING),this.ducking=!1)}},{key:"reset",value:function(){this.yPos=this.groundYPos,this.jumpVelocity=0,this.jumping=!1,this.ducking=!1,this.update(0,t.status.RUNNING),this.midair=!1,this.speedDrop=!1,this.jumpCount=0,this.crashed=!1}}]),t}();function f(t,e){return new h.default(t.x+e.x,t.y+e.y,t.width,t.height)}function d(t,e){var i=!1,n=(t.x,t.y,e.x);e.y;return t.x<n+e.width&&t.x+t.width>n&&t.y<e.y+e.height&&t.height+t.y>e.y&&(i=!0),i}l.config={DROP_VELOCITY:-5,GRAVITY:.6,HEIGHT:47,HEIGHT_DUCK:25,INIITAL_JUMP_VELOCITY:-10,MAX_JUMP_HEIGHT:30,MIN_JUMP_HEIGHT:30,SPEED_DROP_COEFFICIENT:3,SPRITE_WIDTH:262,START_X_POS:50,WIDTH:44,WIDTH_DUCK:59},l.collisionBoxes={DUCKING:[new h.default(1,18,55,25)],RUNNING:[new h.default(22,0,17,16),new h.default(1,18,30,9),new h.default(10,35,14,8),new h.default(1,24,29,5),new h.default(5,30,21,4),new h.default(9,34,15,4)]},l.status={CRASHED:"CRASHED",DUCKING:"DUCKING",JUMPING:"JUMPING",RUNNING:"RUNNING",WAITING:"WAITING"},l.BLINK_TIMING=7e3,l.animFrames={WAITING:{frames:[44,0],msPerFrame:1e3/3},RUNNING:{frames:[88,132],msPerFrame:1e3/12},CRASHED:{frames:[220],msPerFrame:1e3/60},JUMPING:{frames:[0],msPerFrame:1e3/60},DUCKING:{frames:[262,321],msPerFrame:125}},e.default=l},28:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(9),i(2);e.default=function t(e,i,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=i,this.width=n,this.height=s}},33:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTensor=function(t){return t instanceof n.Tensor},e.tensor=function(t){if(t instanceof n.Tensor)return t;if("number"==typeof t)return n.scalar(t);if(Array.isArray(t))return n.tensor(t);throw new Error("tensor() only supports number or array as the input parameter.")};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(51))},38:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(33);var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"init",value:function(){throw new Error("Abstract method must be implemented in the derived class.")}},{key:"predict",value:function(t){throw new Error("Abstract method must be implemented in the derived class.")}},{key:"predictSingle",value:function(t){return this.predict([t])}},{key:"train",value:function(t,e){throw new Error("Abstract method must be implemented in the derived class.")}},{key:"fit",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=0;n<i;n+=1)this.train(t,e)}},{key:"loss",value:function(t,e){return t.sub((0,s.tensor)(e)).square().mean()}}]),t}();e.default=r},52:function(t,e,i){(t.exports=i(97)(!1)).push([t.i,'html,\nbody {\n  padding: 0;\n  margin: 0;\n  width: 100%;\n  height: 100%;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n}\nh1 {\n  font-size: 18px;\n  font-weight: bold;\n  text-align: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n/* Offline page */\n.page {\n  margin-top: 20px;\n  overflow: hidden;\n}\n.page .game {\n  position: relative;\n  color: #2b2b2b;\n  font-size: 1em;\n  margin: 0 auto;\n  max-width: 600px;\n  width: 100%;\n  padding-top: 50px;\n}\n.page .game-canvas {\n  height: 150px;\n  max-width: 600px;\n  opacity: 1;\n  overflow: hidden;\n  top: 0;\n  z-index: 2;\n}\n.page .generation {\n  position: absolute;\n  top: 4px;\n  left: 0;\n  right: 0;\n  font-weight: bold;\n  text-align: center;\n}\n@media (max-height: 350px) {\n  .game {\n    margin-top: 5%;\n  }\n}\n@media (min-width: 600px) and (max-width: 736px) and (orientation: landscape) {\n  .page .game {\n    margin-left: 0;\n    margin-right: 0;\n  }\n}\n@media (max-width: 240px) {\n  .game {\n    overflow: inherit;\n    padding: 0 8px;\n  }\n}\n',""])},53:function(t,e,i){var n=i(52);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(96)(n,s);n.locals&&(t.exports=n.locals)},54:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=a(i(22)),r=i(27),o=a(r);function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onReset=u,this.onRunning=u,this.onCrash=u,this.tRexes=[];for(var s=0;s<e;s+=1){var r=new o.default(i,n);r.id=s,this.tRexes.push(r)}}return n(t,[{key:"update",value:function(t,e){this.tRexes.forEach(function(i){i.crashed||i.update(t,e)})}},{key:"draw",value:function(t,e){this.tRexes.forEach(function(i){i.crashed||i.draw(t,e)})}},{key:"updateJump",value:function(t,e){this.tRexes.forEach(function(i){i.jumping&&i.updateJump(t,e)})}},{key:"reset",value:function(){var t=this;this.tRexes.forEach(function(e){e.reset(),t.onReset({tRex:e})})}},{key:"lives",value:function(){return this.tRexes.reduce(function(t,e){return e.crashed?t:t+1},0)}},{key:"checkForCollision",value:function(t){var e,i,n=this,o=0,a={obstacleX:t.xPos,obstacleY:t.yPos,obstacleWidth:t.width,speed:s.default.instance_.currentSpeed};return this.tRexes.forEach((e=regeneratorRuntime.mark(function e(i){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.crashed){e.next=14;break}if(!(0,r.checkForCollision)(t,i)){e.next=8;break}o+=1,i.crashed=!0,n.onCrash({tRex:i,state:a}),e.next=12;break;case 8:return e.next=10,n.onRunning({tRex:i,state:a});case 10:1===(s=e.sent)?i.startJump():-1===s&&(i.jumping?i.setSpeedDrop():i.jumping||i.ducking||i.setDuck(!0));case 12:e.next=15;break;case 14:o+=1;case 15:case"end":return e.stop()}},e,n)}),i=function(){var t=e.apply(this,arguments);return new Promise(function(e,i){return function n(s,r){try{var o=t[s](r),a=o.value}catch(t){return void i(t)}if(!o.done)return Promise.resolve(a).then(function(t){n("next",t)},function(t){n("throw",t)});e(a)}("next")})},function(t){return i.apply(this,arguments)})),o===this.tRexes.length}}]),t}();function u(){}e.default=h},55:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(15),o=i(2),a=i(8),h=i(28),u=(n=h)&&n.__esModule?n:{default:n};var c=function(){function t(e,i,n,s,r,o,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvasCtx=e,this.spritePos=n,this.typeConfig=i,this.gapCoefficient=r,this.size=(0,a.getRandomNum)(1,t.MAX_OBSTACLE_LENGTH),this.dimensions=s,this.remove=!1,this.xPos=s.WIDTH+(h||0),this.yPos=0,this.width=0,this.collisionBoxes=[],this.gap=0,this.speedOffset=0,this.currentFrame=0,this.timer=0,this.init(o)}return s(t,[{key:"init",value:function(t){if(this.cloneCollisionBoxes(),this.size>1&&this.typeConfig.multipleSpeed>t&&(this.size=1),this.width=this.typeConfig.width*this.size,Array.isArray(this.typeConfig.yPos)){var e=this.typeConfig.yPos;this.yPos=e[(0,a.getRandomNum)(0,e.length-1)]}else this.yPos=this.typeConfig.yPos;this.draw(),this.size>1&&(this.collisionBoxes[1].width=this.width-this.collisionBoxes[0].width-this.collisionBoxes[2].width,this.collisionBoxes[2].x=this.width-this.collisionBoxes[2].width),this.typeConfig.speedOffset&&(this.speedOffset=Math.random()>.5?this.typeConfig.speedOffset:-this.typeConfig.speedOffset),this.gap=this.getGap(this.gapCoefficient,t)}},{key:"draw",value:function(){var t=this.typeConfig.width,e=this.typeConfig.height,i=t*this.size*(.5*(this.size-1))+this.spritePos.x;this.currentFrame>0&&(i+=t*this.currentFrame),this.canvasCtx.drawImage((0,o.getImageSprite)(),i,this.spritePos.y,t*this.size,e,this.xPos,this.yPos,this.typeConfig.width*this.size,this.typeConfig.height)}},{key:"update",value:function(t,e){this.remove||(this.typeConfig.speedOffset&&(e+=this.speedOffset),this.xPos-=Math.floor(e*(0,r.getFPS)()/1e3*t),this.typeConfig.numFrames&&(this.timer+=t,this.timer>=this.typeConfig.frameRate&&(this.currentFrame=this.currentFrame===this.typeConfig.numFrames-1?0:this.currentFrame+1,this.timer=0)),this.draw(),this.isVisible()||(this.remove=!0))}},{key:"getGap",value:function(e,i){var n=Math.round(this.width*i+this.typeConfig.minGap*e),s=Math.round(n*t.MAX_GAP_COEFFICIENT);return(0,a.getRandomNum)(n,s)}},{key:"isVisible",value:function(){return this.xPos+this.width>0}},{key:"cloneCollisionBoxes",value:function(){for(var t=this.typeConfig.collisionBoxes,e=t.length-1;e>=0;e-=1)this.collisionBoxes[e]=new u.default(t[e].x,t[e].y,t[e].width,t[e].height)}}]),t}();c.MAX_GAP_COEFFICIENT=1.5,c.MAX_OBSTACLE_LENGTH=3,c.types=[{type:"CACTUS_SMALL",width:17,height:35,yPos:105,multipleSpeed:4,minGap:120,minSpeed:0,collisionBoxes:[new u.default(0,7,5,27),new u.default(4,0,6,34),new u.default(10,4,7,14)]},{type:"CACTUS_LARGE",width:25,height:50,yPos:90,multipleSpeed:7,minGap:120,minSpeed:0,collisionBoxes:[new u.default(0,12,7,38),new u.default(8,0,7,49),new u.default(13,10,10,38)]},{type:"PTERODACTYL",width:46,height:40,yPos:[100,75,50],yPosMobile:[100,50],multipleSpeed:999,minSpeed:8.5,minGap:150,collisionBoxes:[new u.default(15,15,16,5),new u.default(18,21,24,6),new u.default(2,14,4,3),new u.default(6,10,4,7),new u.default(10,8,6,9)],numFrames:2,frameRate:1e3/6,speedOffset:.8}],e.default=c},56:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(15),r=i(2);var o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.spritePos=i,this.canvas=e,this.canvasCtx=e.getContext("2d"),this.sourceDimensions={},this.dimensions=t.dimensions,this.sourceXPos=[this.spritePos.x,this.spritePos.x+this.dimensions.WIDTH],this.xPos=[],this.yPos=0,this.bumpThreshold=.5,this.setSourceDimensions(),this.draw()}return n(t,[{key:"setSourceDimensions",value:function(){for(var e in t.dimensions)this.sourceDimensions[e]=t.dimensions[e],this.dimensions[e]=t.dimensions[e];this.xPos=[0,t.dimensions.WIDTH],this.yPos=t.dimensions.YPOS}},{key:"getRandomType",value:function(){return Math.random()>this.bumpThreshold?this.dimensions.WIDTH:0}},{key:"draw",value:function(){this.canvasCtx.drawImage((0,r.getImageSprite)(),this.sourceXPos[0],this.spritePos.y,this.sourceDimensions.WIDTH,this.sourceDimensions.HEIGHT,this.xPos[0],this.yPos,this.dimensions.WIDTH,this.dimensions.HEIGHT),this.canvasCtx.drawImage((0,r.getImageSprite)(),this.sourceXPos[1],this.spritePos.y,this.sourceDimensions.WIDTH,this.sourceDimensions.HEIGHT,this.xPos[1],this.yPos,this.dimensions.WIDTH,this.dimensions.HEIGHT)}},{key:"updateXPos",value:function(t,e){var i=t,n=0===t?1:0;this.xPos[i]-=e,this.xPos[n]=this.xPos[i]+this.dimensions.WIDTH,this.xPos[i]<=-this.dimensions.WIDTH&&(this.xPos[i]+=2*this.dimensions.WIDTH,this.xPos[n]=this.xPos[i]-this.dimensions.WIDTH,this.sourceXPos[i]=this.getRandomType()+this.spritePos.x)}},{key:"update",value:function(t,e){var i=Math.floor(e*((0,s.getFPS)()/1e3)*t);this.xPos[0]<=0?this.updateXPos(0,i):this.updateXPos(1,i),this.draw()}},{key:"reset",value:function(){this.xPos[0]=0,this.xPos[1]=t.dimensions.WIDTH}}]),t}();o.dimensions={WIDTH:600,HEIGHT:12,YPOS:127},e.default=o},57:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(2),r=i(8);var o=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.canvasCtx=this.canvas.getContext("2d"),this.spritePos=i,this.containerWidth=n,this.xPos=n,this.yPos=0,this.remove=!1,this.cloudGap=(0,r.getRandomNum)(t.config.MIN_CLOUD_GAP,t.config.MAX_CLOUD_GAP),this.init()}return n(t,[{key:"init",value:function(){this.yPos=(0,r.getRandomNum)(t.config.MAX_SKY_LEVEL,t.config.MIN_SKY_LEVEL),this.draw()}},{key:"draw",value:function(){this.canvasCtx.save();var e=t.config.WIDTH,i=t.config.HEIGHT;this.canvasCtx.drawImage((0,s.getImageSprite)(),this.spritePos.x,this.spritePos.y,e,i,this.xPos,this.yPos,t.config.WIDTH,t.config.HEIGHT),this.canvasCtx.restore()}},{key:"update",value:function(t){this.remove||(this.xPos-=Math.ceil(t),this.draw(),this.isVisible()||(this.remove=!0))}},{key:"isVisible",value:function(){return this.xPos+t.config.WIDTH>0}}]),t}();o.config={HEIGHT:14,MAX_CLOUD_GAP:400,MAX_SKY_LEVEL:30,MIN_CLOUD_GAP:100,MIN_SKY_LEVEL:71,WIDTH:46},e.default=o},58:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(8),r=i(9),o=u(i(57)),a=u(i(56)),h=u(i(55));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,i,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.canvasCtx=this.canvas.getContext("2d"),this.config=t.config,this.dimensions=n,this.gapCoefficient=s,this.obstacles=[],this.obstacleHistory=[],this.horizonOffsets=[0,0],this.cloudFrequency=this.config.CLOUD_FREQUENCY,this.spritePos=i,this.clouds=[],this.cloudSpeed=this.config.BG_CLOUD_SPEED,this.horizonLine=null,this.init()}return n(t,[{key:"init",value:function(){this.addCloud(),this.horizonLine=new a.default(this.canvas,this.spritePos.HORIZON)}},{key:"update",value:function(t,e,i){this.runningTime+=t,this.horizonLine.update(t,e),this.updateClouds(t,e),i&&this.updateObstacles(t,e)}},{key:"updateClouds",value:function(t,e){var i=this.cloudSpeed/1e3*t*e,n=this.clouds.length;if(n){for(var s=n-1;s>=0;s-=1)this.clouds[s].update(i);var r=this.clouds[n-1];n<this.config.MAX_CLOUDS&&this.dimensions.WIDTH-r.xPos>r.cloudGap&&this.cloudFrequency>Math.random()&&this.addCloud(),this.clouds=this.clouds.filter(function(t){return!t.remove})}else this.addCloud()}},{key:"updateObstacles",value:function(t,e){for(var i=this.obstacles.slice(0),n=0;n<this.obstacles.length;n+=1){var s=this.obstacles[n];s.update(t,e),s.remove&&i.shift()}if(this.obstacles=i,this.obstacles.length>0){var r=this.obstacles[this.obstacles.length-1];r&&!r.followingObstacleCreated&&r.isVisible()&&r.xPos+r.width+r.gap<this.dimensions.WIDTH&&(this.addNewObstacle(e),r.followingObstacleCreated=!0)}else this.addNewObstacle(e)}},{key:"removeFirstObstacle",value:function(){this.obstacles.shift()}},{key:"addNewObstacle",value:function(t){var e=(0,s.getRandomNum)(0,h.default.types.length-1),i=h.default.types[e];if(this.duplicateObstacleCheck(i.type)||t<i.minSpeed)this.addNewObstacle(t);else{var n=this.spritePos[i.type];this.obstacles.push(new h.default(this.canvasCtx,i,n,this.dimensions,this.gapCoefficient,t,i.width)),this.obstacleHistory.unshift(i.type),this.obstacleHistory.length>1&&this.obstacleHistory.splice(r.RUNNER_MAX_OBSTACLE_DUPLICATION)}}},{key:"duplicateObstacleCheck",value:function(t){for(var e=0,i=0;i<this.obstacleHistory.length;i+=1)e=this.obstacleHistory[i]===t?e+1:0;return e>=r.RUNNER_MAX_OBSTACLE_DUPLICATION}},{key:"reset",value:function(){this.obstacles=[],this.horizonLine.reset()}},{key:"resize",value:function(t,e){this.canvas.width=t,this.canvas.height=e}},{key:"addCloud",value:function(){this.clouds.push(new o.default(this.canvas,this.spritePos.CLOUD,this.dimensions.WIDTH))}}]),t}();c.config={BG_CLOUD_SPEED:.2,BUMPY_THRESHOLD:.3,CLOUD_FREQUENCY:.5,HORIZON_HEIGHT:16,MAX_CLOUDS:6},e.default=c},59:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(2);var r=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.canvasCtx=e.getContext("2d"),this.image=(0,s.getImageSprite)(),this.spritePos=i,this.x=0,this.y=5,this.currentDistance=0,this.maxScore=0,this.highScore=0,this.container=null,this.digits=[],this.acheivement=!1,this.defaultString="",this.flashTimer=0,this.flashIterations=0,this.invertTrigger=!1,this.config=t.config,this.maxScoreUnits=this.config.MAX_DISTANCE_UNITS,this.init(n)}return n(t,[{key:"init",value:function(t){var e="";this.calcXPos(t),this.maxScore=this.maxScoreUnits;for(var i=0;i<this.maxScoreUnits;i+=1)this.draw(i,0),this.defaultString+="0",e+="9";this.maxScore=parseInt(e,0)}},{key:"calcXPos",value:function(e){this.x=e-t.dimensions.DEST_WIDTH*(this.maxScoreUnits+1)}},{key:"draw",value:function(e,i,n){var s=t.dimensions.WIDTH,r=t.dimensions.HEIGHT,o=t.dimensions.WIDTH*i,a=0,h=e*t.dimensions.DEST_WIDTH,u=this.y,c=t.dimensions.WIDTH,l=t.dimensions.HEIGHT;if(o+=this.spritePos.x,a+=this.spritePos.y,this.canvasCtx.save(),n){var f=this.x-2*this.maxScoreUnits*t.dimensions.WIDTH;this.canvasCtx.translate(f,this.y)}else this.canvasCtx.translate(this.x,this.y);this.canvasCtx.drawImage(this.image,o,a,s,r,h,u,c,l),this.canvasCtx.restore()}},{key:"getActualDistance",value:function(t){return t?Math.round(t*this.config.COEFFICIENT):0}},{key:"update",value:function(t,e){var i=!0;if(this.acheivement)this.flashIterations<=this.config.FLASH_ITERATIONS?(this.flashTimer+=t,this.flashTimer<this.config.FLASH_DURATION?i=!1:this.flashTimer>2*this.config.FLASH_DURATION&&(this.flashTimer=0,this.flashIterations+=1)):(this.acheivement=!1,this.flashIterations=0,this.flashTimer=0);else if((e=this.getActualDistance(e))>this.maxScore&&this.maxScoreUnits===this.config.MAX_DISTANCE_UNITS?(this.maxScoreUnits+=1,this.maxScore=parseInt(this.maxScore+"9",1)):this.distance=0,e>0){e%this.config.ACHIEVEMENT_DISTANCE==0&&(this.acheivement=!0,this.flashTimer=0);var n=(this.defaultString+e).substr(-this.maxScoreUnits);this.digits=n.split("")}else this.digits=this.defaultString.split("");if(i)for(var s=this.digits.length-1;s>=0;s-=1)this.draw(s,parseInt(this.digits[s],0));this.drawHighScore()}},{key:"drawHighScore",value:function(){this.canvasCtx.save(),this.canvasCtx.globalAlpha=.8;for(var t=this.highScore.length-1;t>=0;t-=1)this.draw(t,parseInt(this.highScore[t],10),!0);this.canvasCtx.restore()}},{key:"setHighScore",value:function(t){t=this.getActualDistance(t);var e=(this.defaultString+t).substr(-this.maxScoreUnits);this.highScore=["10","11",""].concat(e.split(""))}},{key:"reset",value:function(){this.update(0),this.acheivement=!1}}]),t}();r.dimensions={WIDTH:10,HEIGHT:13,DEST_WIDTH:11},r.yPos=[0,13,27,40,53,67,80,93,107,120],r.config={MAX_DISTANCE_UNITS:5,ACHIEVEMENT_DISTANCE:100,COEFFICIENT:.025,FLASH_DURATION:250,FLASH_ITERATIONS:3},e.default=r},60:function(t,e){t.exports="data:image/png;base64,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"},61:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Runner=void 0;var n=i(22);Object.defineProperty(e,"Runner",{enumerable:!0,get:function(){return(t=n,t&&t.__esModule?t:{default:t}).default;var t}}),i(53)},8:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTimeStamp=function(){return performance.now()},e.getRandomNum=function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CANVAS_WIDTH=600,e.CANVAS_HEIGHT=150,e.RUNNER_BOTTOM_PAD=10,e.RUNNER_MAX_OBSTACLE_DUPLICATION=2},91:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(51)),o=i(33),a=i(38),h=(n=a)&&n.__esModule?n:{default:n};var u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.inputSize,n=void 0===i?3:i,s=t.hiddenLayerSize,o=void 0===s?2*n:s,a=t.outputSize,h=void 0===a?2:a,u=t.learningRate,c=void 0===u?.1:u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return l.weights=[],l.biases=[],l.hiddenLayerSize=o,l.inputSize=n,l.outputSize=h,l.optimizer=r.train.adam(c),l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,h.default),s(e,[{key:"init",value:function(){this.weights[0]=r.variable(r.randomNormal([this.inputSize,this.hiddenLayerSize])),this.biases[0]=r.variable(r.scalar(Math.random())),this.weights[1]=r.variable(r.randomNormal([this.hiddenLayerSize,this.outputSize])),this.biases[1]=r.variable(r.scalar(Math.random()))}},{key:"predict",value:function(t){var e=this,i=(0,o.tensor)(t);return r.tidy(function(){var t=r.sigmoid(i.matMul(e.weights[0]).add(e.biases[0]));return r.sigmoid(t.matMul(e.weights[1]).add(e.biases[1]))})}},{key:"train",value:function(t,e){var i=this;this.optimizer.minimize(function(){var n=i.predict(t);return i.loss(n,e)})}}]),e}();e.default=u},95:function(t,e){}});